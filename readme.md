# Docker Project - Momo Store

ะะพะปะฝะพััะฝะบัะธะพะฝะฐะปัะฝะพะต ะฒะตะฑ-ะฟัะธะปะพะถะตะฝะธะต ั ะฐััะธัะตะบัััะพะน ะผะธะบัะพัะตัะฒะธัะพะฒ, ัะฐะทะฒะตัะฝััะพะต ั ะฟะพะผะพััั Docker ะธ ะฐะฒัะพะผะฐัะธะทะธัะพะฒะฐะฝะฝะพะน CI/CD ัะตัะตะท GitHub Actions.

## ๐ ะะฟะธัะฐะฝะธะต ะฟัะพะตะบัะฐ

ะญัะพั ะฟัะพะตะบั ะฟัะตะดััะฐะฒะปัะตั ัะพะฑะพะน ะธะฝัะตัะฝะตั-ะผะฐะณะฐะทะธะฝ "Momo Store" ั ัะพะฒัะตะผะตะฝะฝะพะน ะฐััะธัะตะบัััะพะน:
- **Frontend**: Vue.js ะฟัะธะปะพะถะตะฝะธะต ั Nginx
- **Backend**: Go API ัะตัะฒะตั
- **ะะพะฝัะตะนะฝะตัะธะทะฐัะธั**: Docker ั multi-stage ัะฑะพัะบะพะน
- **ะัะบะตัััะฐัะธั**: Docker Compose
- **CI/CD**: GitHub Actions ะดะปั ะฐะฒัะพะผะฐัะธัะตัะบะพะน ัะฑะพัะบะธ ะธ ะดะตะฟะปะพั

## ๐๏ธ ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
โ    Frontend     โ    โ     Backend     โ
โ   Vue.js + Nginx โโโโโบโ   Go API Server โ
โ     Port: 80    โ    โ   Port: 8081    โ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
```

## ๐ ะัััััะน ััะฐัั

### ะัะตะดะฒะฐัะธัะตะปัะฝัะต ััะตะฑะพะฒะฐะฝะธั

- Docker Engine 20.10+
- Docker Compose 2.0+
- Git

### ะะพะบะฐะปัะฝัะน ะทะฐะฟััะบ

1. **ะะปะพะฝะธััะนัะต ัะตะฟะพะทะธัะพัะธะน:**
   ```bash
   git clone <repository-url>
   cd docker-project
   ```

2. **ะกะพะทะดะฐะนัะต ัะฐะนะป ะพะบััะถะตะฝะธั:**
   ```bash
   echo "DOCKER_USERNAME=ะฒะฐั_docker_username" > .env
   ```

3. **ะะฐะฟัััะธัะต ะฟัะธะปะพะถะตะฝะธะต:**
   ```bash
   docker-compose up -d
   ```

4. **ะัะพะฒะตัััะต ััะฐััั:**
   ```bash
   docker-compose ps
   ```

5. **ะัะบัะพะนัะต ะฒ ะฑัะฐัะทะตัะต:**
   - Frontend: http://localhost
   - Backend API: http://localhost:8081/health

### ะััะฐะฝะพะฒะบะฐ ะฟัะธะปะพะถะตะฝะธั

```bash
docker-compose down
```

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
docker-project/
โโโ backend/
โ   โโโ Dockerfile
โ   โโโ go.mod
โ   โโโ go.sum
โ   โโโ cmd/
โ   โ   โโโ api/
โ   โ       โโโ app/
โ   โ       โ   โโโ app.go
โ   โ       โ   โโโ controller_*.go
โ   โ       โ   โโโ middleware.go
โ   โ       โโโ dependencies/
โ   โ       โโโ main.go
โ   โ       โโโ router.go
โ   โโโ internal/
โ       โโโ logger/
โ       โโโ store/
โโโ frontend/
โ   โโโ Dockerfile
โ   โโโ nginx.conf
โ   โโโ package.json
โ   โโโ babel.config.js
โ   โโโ vue.config.js
โ   โโโ tsconfig.json
โ   โโโ public/
โ   โ   โโโ index.html
โ   โ   โโโ favicon.ico
โ   โโโ src/
โ       โโโ App.vue
โ       โโโ main.ts
โ       โโโ components/
โ       โ   โโโ cart/
โ       โ   โโโ catalog/
โ       โ   โโโ navbar/
โ       โ   โโโ profile/
โ       โโโ views/
โ       โโโ router/
โ       โโโ store/
โ       โโโ services/
โ       โโโ models/
โโโ docker-compose.yml
โโโ .github/workflows/
โ   โโโ deploy.yml
โโโ readme.md
```

## ๐ง ะะพะฝัะธะณััะฐัะธั

### Frontend (Vue.js + Nginx)

- **ะะพัั**: 80
- **ะขะตัะฝะพะปะพะณะธะธ**: Vue.js, Nginx 1.27
- **ะัะพะฑะตะฝะฝะพััะธ**:
  - Single Page Application ั ะฟะพะดะดะตัะถะบะพะน ัะพััะธะฝะณะฐ
  - ะัะพะบัะธัะพะฒะฐะฝะธะต API ะทะฐะฟัะพัะพะฒ ะฝะฐ backend
  - ะะตัะธัะพะฒะฐะฝะธะต ััะฐัะธัะตัะบะธั ัะตััััะพะฒ
  - ะะฐะณะพะปะพะฒะบะธ ะฑะตะทะพะฟะฐัะฝะพััะธ

### Backend (Go API)

- **ะะพัั**: 8081
- **ะขะตัะฝะพะปะพะณะธะธ**: Go 1.22.7, Alpine Linux
- **ะัะพะฑะตะฝะฝะพััะธ**:
  - RESTful API
  - Health check endpoint: `/health`
  - ะกัะฐัะธัะตัะบะฐั ะบะพะผะฟะธะปััะธั ะฑะตะท CGO
  - ะะธะฝะธะผะฐะปะธััะธัะฝัะน ะพะฑัะฐะท

## ๐ณ Docker ะบะพะฝัะธะณััะฐัะธั

### Multi-stage ัะฑะพัะบะฐ

ะะฑะฐ ัะตัะฒะธัะฐ ะธัะฟะพะปัะทััั multi-stage ัะฑะพัะบั ะดะปั ะพะฟัะธะผะธะทะฐัะธะธ ัะฐะทะผะตัะฐ ะพะฑัะฐะทะพะฒ:

**Frontend:**
- Builder stage: Node.js 20 Alpine
- Runtime stage: Nginx 1.27 Alpine

**Backend:**
- Builder stage: Go 1.22.7 Alpine
- Runtime stage: Alpine 3.20

### ะะตะทะพะฟะฐัะฝะพััั

- ะะฐะฟััะบ ะพั ะฝะตะฟัะธะฒะธะปะตะณะธัะพะฒะฐะฝะฝะพะณะพ ะฟะพะปัะทะพะฒะฐัะตะปั
- Read-only ัะฐะนะปะพะฒะฐั ัะธััะตะผะฐ
- ะะธะฝะธะผะฐะปัะฝัะน ะฝะฐะฑะพั ะฟะฐะบะตัะพะฒ
- ะะตะณัะปััะฝัะต ะพะฑะฝะพะฒะปะตะฝะธั ะฑะตะทะพะฟะฐัะฝะพััะธ

## ๐ CI/CD Pipeline

GitHub Actions ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฒัะฟะพะปะฝัะตั:

1. **ะกะฑะพัะบะฐ ะพะฑัะฐะทะพะฒ** ะฟัะธ push ะฒ main
2. **ะัะฑะปะธะบะฐัะธั ะฒ Docker Hub**
3. **ะขะตััะธัะพะฒะฐะฝะธะต ั Docker Compose**
4. **ะกะบะฐะฝะธัะพะฒะฐะฝะธะต ะฑะตะทะพะฟะฐัะฝะพััะธ** ั Trivy
5. **ะัะพะฒะตัะบะฐ ัะฐะฑะพัะพัะฟะพัะพะฑะฝะพััะธ** ะฟัะธะปะพะถะตะฝะธั

### ะะฐัััะพะนะบะฐ CI/CD

ะะพะฑะฐะฒััะต ะฒ GitHub Secrets:
- `DOCKER_USER` - ะปะพะณะธะฝ Docker Hub
- `DOCKER_PASSWORD` - ัะพะบะตะฝ ะดะพัััะฟะฐ Docker Hub

## ๐ ะะพะฝะธัะพัะธะฝะณ ะธ ะปะพะณะธ

### Health checks

- **Frontend**: `curl -f http://localhost`
- **Backend**: `wget -q --spider http://localhost:8081/health`

### ะัะพัะผะพัั ะปะพะณะพะฒ

```bash
# ะะพะณะธ ะฒัะตั ัะตัะฒะธัะพะฒ
docker-compose logs -f

# ะะพะณะธ ะบะพะฝะบัะตัะฝะพะณะพ ัะตัะฒะธัะฐ
docker-compose logs -f frontend
docker-compose logs -f backend
```

### ะะพะฝะธัะพัะธะฝะณ ัะตััััะพะฒ

```bash
# ะัะฟะพะปัะทะพะฒะฐะฝะธะต ัะตััััะพะฒ
docker stats

# ะะฝัะพัะผะฐัะธั ะพ ะบะพะฝัะตะนะฝะตัะฐั
docker-compose ps
```

## ๐๏ธ ะะฐะทัะฐะฑะพัะบะฐ

### ะะพะบะฐะปัะฝะฐั ัะฐะทัะฐะฑะพัะบะฐ

1. **Frontend ัะฐะทัะฐะฑะพัะบะฐ:**
   ```bash
   cd frontend
   npm install
   npm run serve
   ```

2. **Backend ัะฐะทัะฐะฑะพัะบะฐ:**
   ```bash
   cd backend
   go mod tidy
   go run cmd/api/*.go
   ```

### ะะตัะตัะฑะพัะบะฐ ะพะฑัะฐะทะพะฒ

```bash
# ะะตัะตัะฑะพัะบะฐ ั ะพัะธััะบะพะน ะบะตัะฐ
docker-compose build --no-cache

# ะะตัะตัะฑะพัะบะฐ ะบะพะฝะบัะตัะฝะพะณะพ ัะตัะฒะธัะฐ
docker-compose build frontend
```

## ๐ ะะตะทะพะฟะฐัะฝะพััั

- ะัะต ะบะพะฝัะตะนะฝะตัั ัะฐะฑะพัะฐัั ะพั ะฝะตะฟัะธะฒะธะปะตะณะธัะพะฒะฐะฝะฝัั ะฟะพะปัะทะพะฒะฐัะตะปะตะน
- ะะฐัััะพะตะฝั ะทะฐะณะพะปะพะฒะบะธ ะฑะตะทะพะฟะฐัะฝะพััะธ (CSP, HSTS ะธ ะดั.)
- ะะตะณัะปััะฝะพะต ัะบะฐะฝะธัะพะฒะฐะฝะธะต ััะทะฒะธะผะพััะตะน
- ะะธะฝะธะผะฐะปัะฝัะต ะพะฑัะฐะทั ั ะพะฑะฝะพะฒะปะตะฝะธัะผะธ ะฑะตะทะพะฟะฐัะฝะพััะธ

## ๐จ ะฃัััะฐะฝะตะฝะธะต ะฝะตะฟะพะปะฐะดะพะบ

### ะัะพะฑะปะตะผั ั ะทะฐะฟััะบะพะผ

1. **ะัะพะฒะตัััะต ััะฐััั ะบะพะฝัะตะนะฝะตัะพะฒ:**
   ```bash
   docker-compose ps
   ```

2. **ะัะพัะผะพััะธัะต ะปะพะณะธ:**
   ```bash
   docker-compose logs
   ```

3. **ะะตัะตะทะฐะฟัััะธัะต ัะตัะฒะธัั:**
   ```bash
   docker-compose restart
   ```

### ะัะธััะบะฐ ัะธััะตะผั

```bash
# ะััะฐะฝะพะฒะบะฐ ะธ ัะดะฐะปะตะฝะธะต ะบะพะฝัะตะนะฝะตัะพะฒ
docker-compose down -v

# ะัะธััะบะฐ ะฝะตะธัะฟะพะปัะทัะตะผัั ัะตััััะพะฒ
docker system prune -f
```

## ๐ ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั

### ะะฟัะธะผะธะทะฐัะธะธ

- ะะตัะธัะพะฒะฐะฝะธะต ัะปะพะตะฒ Docker
- ะะฝะพะณะพะฟะปะฐััะพัะผะตะฝะฝะฐั ัะฑะพัะบะฐ (AMD64, ARM64)
- ะะตัะธัะพะฒะฐะฝะธะต ััะฐัะธัะตัะบะธั ัะตััััะพะฒ
- ะะฟัะธะผะธะทะธัะพะฒะฐะฝะฝัะต ะพะฑัะฐะทั Alpine

### ะะณัะฐะฝะธัะตะฝะธั ัะตััััะพะฒ

- **Frontend**: 256MB RAM, 0.5 CPU
- **Backend**: 512MB RAM, 0.5 CPU

## ๐ค ะฃัะฐััะธะต ะฒ ัะฐะทัะฐะฑะพัะบะต

1. ะคะพัะบะฝะธัะต ัะตะฟะพะทะธัะพัะธะน
2. ะกะพะทะดะฐะนัะต ะฒะตัะบั ะดะปั ะฝะพะฒะพะน ััะฝะบัะธะธ
3. ะะฝะตัะธัะต ะธะทะผะตะฝะตะฝะธั
4. ะะฐะฟัััะธัะต ัะตััั
5. ะกะพะทะดะฐะนัะต Pull Request

## ๐ ะะธัะตะฝะทะธั

ะญัะพั ะฟัะพะตะบั ัะฐัะฟัะพัััะฐะฝัะตััั ะฟะพะด ะปะธัะตะฝะทะธะตะน MIT.

## ๐ ะะพะดะดะตัะถะบะฐ

ะัะปะธ ั ะฒะฐั ะฒะพะทะฝะธะบะปะธ ะฒะพะฟัะพัั ะธะปะธ ะฟัะพะฑะปะตะผั:
- ะกะพะทะดะฐะนัะต Issue ะฒ GitHub
- ะัะพะฒะตัััะต ะดะพะบัะผะตะฝัะฐัะธั
- ะัะพัะผะพััะธัะต ะปะพะณะธ ะฟัะธะปะพะถะตะฝะธั